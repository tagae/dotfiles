#!/usr/bin/env emacs --script

(load "~/.dotfiles/bin/lib/interaction.el" nil 'nomessage)

;; el-get packages
(defvar world
  '(el-get
    auctex
    markdown-mode
    clojure-mode
    nrepl))

(add-to-list 'load-path "~/.emacs.d/el-get/el-get")

;; el-get
(unless (require 'el-get nil 'noerror)
  (dotfiles-message 'info "Installing el-get for Emacs")
  (url-retrieve
   "https://raw.github.com/dimitri/el-get/master/el-get-install.el"
   (lambda (status)
     (goto-char (point-max))
     (eval-print-last-sexp))))

(require 'el-get)

(dolist (package world)
  (unless (el-get-package-is-installed package)
    (dotfiles-message 'info "Installing Emacs package '%s" package)
    (el-get-install package)))

;; Local Variables:
;; mode: emacs-lisp
;; End:
